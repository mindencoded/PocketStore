<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
    <meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <title>Responsive Site Menu</title>
    <link href="./app/css/normalize.min.css" rel="stylesheet"/>
    <link href="./app/css/style.css" rel="stylesheet"/>
    <script>
        var baseService = "http://localhost:9000/";
    </script>
</head>
<body>
<nav class="navbar">
    <span class="open-slide">
        <a href="#" onclick="openSlideMenu()">
            <svg width="30" height="30">
                <path d="M0,5 30,5" stroke="#fff" stroke-width="5"></path>
                <path d="M0,14 30,14" stroke="#fff" stroke-width="5"></path>
                <path d="M0,23 30,23" stroke="#fff" stroke-width="5"></path>
            </svg>
        </a>
    </span>
    <ul class="navbar-nav">
        <li>
            <a href="#">Home</a>
        </li>
        <li>
            <a href="#">About</a>
        </li>
        <li>
            <a href="#">Services</a>
        </li>
        <li>
            <a href="#">Contact</a>
        </li>
    </ul>
</nav>
<div id="side-menu" class="side-nav">
    <a href="#" class="btn-close" onclick="closeSlideMenu()">&times;</a>
    <a href="#">Home</a>
    <a href="#">About</a>
    <a href="#">Services</a>
    <a href="#">Contact</a>
</div>
<div id="main">
    <h1>Responsive Side Menu</h1>
    <ul id="courses"></ul>
</div>
<div>
    <label for="courseId">Search by ID</label>
    <input type="text" id="courseId" size="5"/>
    <input type="button" value="Search" onclick="search();"/>
    <p id="course"></p>
</div>
<script src="./app/js/jquery.js"></script>
<script>

    var uri = baseService + 'api/crud/courses';

    $(document).ready(function() {
        // Send an AJAX request
        $.getJSON(uri)
            .done(function(data) {
                console.log(data);
                // On success, 'data' contains a list of contacts.
                $.each(data,
                    function(key, course) {
                        // Add a list item for the contact.
                        $('<li>',
                            {
                                text: formatItem(course)
                            }).appendTo($('#courses'));
                    });
            });
    });

    function formatItem(course) {
        return 'Code: ' + course['Code'] + ', Description: ' + course['Description'];
    }

    function search() {
        var id = $('#courseId').val();
        $.getJSON(uri + '/' + id)
            .done(function(data) {
                $('#course').text(formatItem(data));
            })
            .fail(function(jqXhr, textStatus, err) {
                $('#course').text('Error: ' + err);
            });
    }

    function openSlideMenu() {
        document.getElementById('side-menu').style.width = '250px';
        document.getElementById('main').style.marginLeft = '250px';
    }

    function closeSlideMenu() {
        document.getElementById('side-menu').style.width = '0';
        document.getElementById('main').style.marginLeft = '0';
    }
</script>
</body>
</html>